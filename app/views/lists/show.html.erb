<section class="todoapp">
  <header class="header">
    <h1><%= @list.name %></h1>
    <%= form_for([@list, @guest]) do |f| %>
      <%= f.text_field :name, :class => "new-todo", :placeholder => (@guest.errors.full_messages_for(:name).first || "Enter a new guest...") %>
      <% @guest.list_id = @list.id %>
      <%= f.submit :style => "display: none" %>
    <% end %>
  </header>


  <section class="main">
    <input class="toggle-all" type="checkbox">
    <label for="toggle-all">Mark all as attending</label>
    <ul class="todo-list">
      <%= render :collection => @list.guests, :partial => "guests/guest_li", :as => :guest %>
    </ul>
    <p><%= @user%></p>


    <%= form_for @sharedlist do |f|%>
      <%= f.collection_select(:user_id, User.all, :id, :username) %>
      <%= f.hidden_field :list_id, :value => @list.id %>
      <%= f.hidden_field :permission, :value => 10 %>

      <%= f.submit "Add A Host" %>
    <% end %>

<!-- Find out how to show current_user by name as well as getting at @sharedlist correctly -->
    <!-- <p>Hosts -->
<!--       # <%=@current_user%>
 --><!--     SharedList.last.user.username%>
 --><!--     @sharedlist.user.username%> -->


   <ul>
   <% @list.shared_lists.each do |shared_list| %>

   <%= shared_list.user.username %>
   <% end %>
   </ul>

 </p>


  </section>


 <footer class="footer">


  </footer>
</section>
<%= link_to 'All Events', lists_path %> |
